(this["webpackJsonppark-the-tir"]=this["webpackJsonppark-the-tir"]||[]).push([[7],{128:function(e,t,a){"use strict";var n=a(127),c=a(1),l=a.n(c);a(131);t.a=function(e){var t=e.children,a=Object(n.a)(e,["children"]);return l.a.createElement("button",{className:"".concat(a.disabled?"disabled":""," custom-button"),onClick:a.handleClick},t)}},129:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return l}));var n=function(e){return{type:"MINLENGTH",val:e}},c=function(){return{type:"EMAIL"}},l=function(e,t){var a=!0,n=!0,c=!1,l=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var i=r.value;"REQUIRE"===i.type&&(a=a&&e.trim().length>0),"MINLENGTH"===i.type&&(a=a&&e.trim().length>=i.val),"MAXLENGTH"===i.type&&(a=a&&e.trim().length<=i.val),"MIN"===i.type&&(a=a&&+e>=i.val),"MAX"===i.type&&(a=a&&+e<=i.val),"EMAIL"===i.type&&(a=a&&/^\S+@\S+\.\S+$/.test(e))}}catch(m){c=!0,l=m}finally{try{n||null==o.return||o.return()}finally{if(c)throw l}}return a}},130:function(e,t,a){"use strict";var n=a(40),c=a(127),l=a(4),r=a(1),o=a.n(r),i=a(129),m=(a(132),function(e,t){switch(t.type){case"CHANGE":return Object(l.a)({},e,{value:t.val,isValid:Object(i.c)(t.val,t.validators)});case"TOUCH":return Object(l.a)({},e,{isTouched:!0});default:return e}});t.a=function(e){var t=e.label,a=Object(c.a)(e,["label"]),l=Object(r.useReducer)(m,{value:"",isTouched:!1,isValid:!1}),i=Object(n.a)(l,2),s=i[0],u=i[1],d=a.id,p=a.onInput,E=s.value,f=s.isValid;Object(r.useEffect)((function(){p(d,E,f)}),[d,E,f,p]);var b=function(e){u({type:"CHANGE",val:e.target.value,validators:a.validators})},h=function(){u({type:"TOUCH"})},v="".concat(s.value.length>0?"shrink":""),O="".concat(!s.isValid&&s.isTouched?"danger":""," "),g=["form-input",O].join(" "),j="input"===a.element?o.a.createElement("input",{className:g,id:a.id,onChange:b,onBlur:h,value:s.value,type:a.id}):o.a.createElement("textarea",{className:g,id:a.id,onChange:b,onBlur:h,value:s.value,type:a.id,rows:a.rows||3}),C=[v,O,"form-input-label"].join(" ");return o.a.createElement("div",{className:"group"},j,s.isValid?null:o.a.createElement("p",{className:O},a.texterror),t?o.a.createElement("label",{className:C},t):null)}},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";var n=a(1),c=a.n(n),l=a(41),r=a.n(l),o=a(143),i=(a(134),function(e){return r.a.createPortal(c.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),m=(a(135),function(e){var t=c.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},c.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},c.a.createElement("h2",null,e.header)),c.a.createElement("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},c.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},c.a.createElement("h2",null," ",e.children)),c.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},c.a.createElement("div",{className:"modal-footer"},c.a.createElement("div",null,e.footer),c.a.createElement("div",null,e.secondButton?c.a.createElement("div",null,e.secondButton):null)))));return r.a.createPortal(t,document.getElementById("modal-hook"))});t.a=function(e){return c.a.createElement(c.a.Fragment,null,e.show&&c.a.createElement(i,{onClick:e.onCancel}),c.a.createElement(o.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},c.a.createElement(m,e)))}},134:function(e,t,a){},135:function(e,t,a){},137:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(23),c=function(e){return e.fetchPlace},l=Object(n.a)([c],(function(e){return e.placeResult}));Object(n.a)([c],(function(e){return e.error}))},184:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(40),c=a(1),l=a.n(c),r=a(32),o=a(33),i=a(193),m=a.n(i),s=(a(182),a(23)),u=a(137),d=a(157),p=a.n(d),E=(a(184),Object(s.b)({place:u.a})),f=Object(r.b)(E)((function(e){var t=e.place;return l.a.createElement("div",null,l.a.createElement(p.a,{className:"react-rater-star react-rater",interactive:!1,total:6,rating:t.ratingsAverage}),l.a.createElement("div",null,l.a.createElement("h3",null,"Number of votes: ",t.ratingsQuantity)))})),b=a(127),h=a(159),v=a.n(h),O=a(130),g=a(128),j=a(129),C=a(133),N=a(39),y=(a(188),Object(r.b)(null,(function(e){return{startComment:function(t){return e(Object(N.e)(t))}}}))((function(e){var t=e.startComment,a=Object(b.a)(e,["startComment"]),r=Object(c.useState)(!1),o=Object(n.a)(r,2),i=o[0],m=o[1],s=Object(c.useState)(0),u=Object(n.a)(s,2),d=u[0],p=u[1],E=Object(c.useState)(""),f=Object(n.a)(E,2),h=f[0],N=f[1],y=Object(c.useState)(!1),S=Object(n.a)(y,2),k=S[0],w=S[1],_={id:a.id,commentValue:h,rating:d};return l.a.createElement("div",{className:"comment-container"},l.a.createElement(C.a,{show:i,header:"Comment",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(g.a,{handleClick:function(){m(!1)}},"CLOSE")},"The comment was posted!"),l.a.createElement("div",null,l.a.createElement(O.a,{id:"input",element:"input",label:"comment",texterror:"Please write a comment",validators:[Object(j.b)(2)],onInput:function(e,t,a){w(!a),N(t)},required:!0,value:h})),l.a.createElement("div",null,l.a.createElement("h3",null,"Please Rate This Place!")),l.a.createElement("div",{className:"star-rating"},l.a.createElement(v.a,{rating:d,starRatedColor:"orange",changeRating:function(e){p(e)},numberOfStars:6,name:"rating",starDimension:"20px",starSpacing:"10px"})),l.a.createElement("div",{className:"button-comment-container"},l.a.createElement(g.a,{handleClick:function(){t(_),m(!0)},disabled:k},"Comment")))}))),S=a(48),k=Object(s.b)({place:u.a}),w=Object(r.b)(k,(function(e){return{startFetch:function(t){return e(Object(S.c)(t))}}}))((function(e){var t,a,r=e.startFetch,i=e.place,m=(Object(b.a)(e,["startFetch","place"]),Object(o.h)().placeId);try{if(i.position){var s=Object(n.a)(i.position.coordinates,2);t=s[0],a=s[1]}}catch(u){console.log(u)}return Object(c.useEffect)((function(){r(m)}),[r,m]),l.a.createElement("iframe",{title:"GooglePlace",width:"600",height:"450",frameBorder:"0",style:{border:0},src:"https://www.google.com/maps/embed/v1/place?key=".concat("AIzaSyC-FbIQyy5SniS5skzSbXH6A25x4cvkhys","&q=").concat(a,",").concat(t,'&zoom=13"'),allowFullScreen:!0})})),_=(a(189),Object(s.b)({place:u.a})),I=Object(r.b)(_)((function(e){var t=e.place;return l.a.createElement("div",null,t.placeAuthor?l.a.createElement("div",{className:"place-author-container"},l.a.createElement("div",null,l.a.createElement("h2",{style:{color:"#1c9aae"}},t.placeAuthor.name),l.a.createElement("img",{className:"place-author-image",src:"".concat("${url}","/api/v1/img/users/").concat(t.placeAuthor.photo),alt:t.placeAuthor.name}))):null)})),T=a(52),P=Object(s.a)([function(e){return e.comments}],(function(e){return e})),A=Object(s.a)([function(e){return e.comment}],(function(e){return e})),U=a(37),R=a(63),x=a(35),D=(a(190),Object(s.b)({comments:P,comment:A,user:U.b,me:R.a})),L=Object(r.b)(D,(function(e){return{getCommentsStart:function(t){return e(Object(T.b)(t))},startUpdateComment:function(t){return e(Object(x.d)(t))},startDeleteComment:function(t){return e(Object(x.c)(t))}}}))((function(e){var t,a,r=e.comments,i=e.comment,m=e.me,s=(e.user,e.getCommentsStart),u=e.startUpdateComment,d=e.startDeleteComment,E=Object(b.a)(e,["comments","comment","me","user","getCommentsStart","startUpdateComment","startDeleteComment"]),f=Object(c.useState)(!1),h=Object(n.a)(f,2),v=h[0],O=h[1],j=Object(c.useState)(null),N=Object(n.a)(j,2),y=N[0],S=N[1],k=Object(c.useState)(!0),w=Object(n.a)(k,2),_=w[0],I=w[1],T=Object(c.useState)(null),P=Object(n.a)(T,2),A=P[0],U=P[1],R=Object(o.h)().placeId;m.user.currentUser&&(t=m.user.currentUser.data.user._id),r.comments&&(a=r.comments.data),Object(c.useEffect)((function(){s(E.placeId)}),[s,E.placeId,i]);var x=function(e){e.target.value&&U(e.target.value)};return l.a.createElement("div",null,l.a.createElement(C.a,{show:v,header:"Comment",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(g.a,{handleClick:function(){O(!1),s(E.placeId),I(!0)}},"CLOSE")},y),a?a.map((function(e){return l.a.createElement("ul",{key:e._id},e.place===E.placeId?l.a.createElement("li",{className:"li-element"},l.a.createElement("h3",{className:"li-element"},l.a.createElement("textarea",{className:"".concat(_?"is-shown":"is-hidden"),rows:"5",cols:"50",name:"comment",disabled:_,defaultValue:e.comment,onChange:x,autoFocus:!0})),l.a.createElement("h3",{style:{color:"#1c9aae"}},e.author.name),l.a.createElement("p",null,"Comment author Rating for this place"),l.a.createElement(p.a,{className:"react-rater-star-comp react-rater-comp",interactive:!1,total:6,rating:e.rating}),m?l.a.createElement("div",{className:"delete-update-comment"},t===e.author._id?l.a.createElement("span",{className:"update-comment",onClick:function(t){var a=e._id;A&&(u({commentId:a,placeId:R,text:A}),O(!0)),I(!1),S("The comment was updated!")}},"Update Comment"):null,t===e.author.id?l.a.createElement("span",{className:"delete-comment",onClick:function(){var t={commentId:e._id,placeId:R};O(!0),S("The comment was deleted. Refresh the page to no longer see it!"),d(t)}},"Delete Comment"):null):null):null)})):null)})),H=a(51),B=a(34),F=(a(191),Object(s.b)({place:u.a})),M=Object(o.i)((function(e){var t=e.place,a=e.deletePlace,r=e.history,o=Object(c.useState)(!1),i=Object(n.a)(o,2),m=i[0],s=i[1],u=Object(c.useState)(null),d=Object(n.a)(u,2),p=d[0],E=d[1],f=Object(c.useState)(!1),b=Object(n.a)(f,2),h=b[0],v=b[1];return l.a.createElement("div",{className:"update-container"},l.a.createElement(C.a,{show:h,header:"Delete Place?",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(g.a,{handleClick:function(){a(t.id),s(!0),E("ARE YOU SURE YOU WANT TO DELETE THIS PLACE?")}},"YES"),secondButton:l.a.createElement(g.a,{handleClick:function(){v(!1)}},"NO")},p),l.a.createElement(C.a,{show:m,header:"Place Deleted",contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:l.a.createElement(g.a,{handleClick:function(){s(!1),v(!1),E("The place was deleted!"),r.push("/")}},"CLOSE")},'"The Place was deleted!"'),l.a.createElement(g.a,{handleClick:function(){return r.push("/update-place/".concat(t.id))}},"Update Place"),l.a.createElement(g.a,{handleClick:function(){v(!0)}},"Delete Place"))})),V=Object(r.b)(F,(function(e){return{startUpdatePlace:function(t){return e(Object(H.a)(t))},deletePlace:function(t){return e(Object(B.c)(t))}}}))(M),G=a(61),$=(a(192),Object(s.b)({place:u.a,currentUser:U.b}));t.default=Object(o.i)(Object(r.b)($)((function(e){var t,a,c=e.place,r=e.currentUser,o=e.history;try{if(c.position){var i=Object(n.a)(c.position.coordinates,2);t=i[0],a=i[1]}}catch(s){console.log(s),o.push("/")}return l.a.createElement("div",null,c?l.a.createElement("div",{className:"place-container"},l.a.createElement("div",{className:"google-map-container place-option"},l.a.createElement("div",{className:"place-option "},l.a.createElement("h2",null,c.name)),l.a.createElement("div",{className:"place-option"},l.a.createElement(g.a,{handleClick:function(){t&&a&&window.location.assign("https://google.com/maps?q=".concat(a,",").concat(t))}},"Take me There"))),l.a.createElement("div",{className:"place-option"},l.a.createElement(w,null)),l.a.createElement("div",{className:"place-option"},c.images?l.a.createElement("div",{className:"place-option place-image-option"},c.images[0]?l.a.createElement(m.a,null,l.a.createElement("img",{className:"img-place",src:"".concat("${url}","/api/v1/img/places/").concat(c.images[0]),alt:"image1",width:"200"})):null,c.images[1]?l.a.createElement(m.a,null,l.a.createElement("img",{className:"img-place",src:"".concat("${url}","/api/v1/img/places/").concat(c.images[1]),alt:"image2",width:"200"})):null,c.images[2]?l.a.createElement(m.a,null,l.a.createElement("img",{className:"img-place",src:"".concat("${url}","/api/v1/img/places/").concat(c.images[2]),alt:"image3",width:"200"})):null):null),l.a.createElement("div",{className:"place-option"},l.a.createElement("h3",null,c.description)),l.a.createElement("div",{className:"place-option"},l.a.createElement("h2",null,"Place Rataing Average"),l.a.createElement(f,null)),l.a.createElement("div",{className:"place-option"},l.a.createElement(I,null)),l.a.createElement("div",null,r?l.a.createElement(V,null):null),l.a.createElement("div",{className:"place-option"},l.a.createElement(L,{placeId:c._id})),l.a.createElement("div",{className:"place-option"},l.a.createElement("h3",null,"comments"),r?l.a.createElement("div",null,l.a.createElement(y,{id:c._id,onChange:function(){}})):l.a.createElement("h2",null,"Please login to comment!"))):l.a.createElement(G.a,null))})))}}]);
//# sourceMappingURL=7.59f147c6.chunk.js.map