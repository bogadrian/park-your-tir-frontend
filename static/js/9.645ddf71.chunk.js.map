{"version":3,"sources":["components/reuseble/custom-button/custom-button.js","utils/validators.js","components/reuseble/input-form/input-form.js","redux/coordsReducer/coords-selector.js","redux/appis/apiUtils.js","components/reuseble/fetch-address/fetch-address.js","images/icon.png","redux/placesReducer/places-selector.js","components/main/home-places/map.js","pages/homepage/homepage.js"],"names":["CustomButton","children","otherProps","className","disabled","onClick","handleClick","VALIDATOR_MINLENGTH","val","type","VALIDATOR_EMAIL","validate","value","validators","isValid","validator","trim","length","test","inputReducer","state","action","isTouched","FormInput","label","useReducer","inputState","dispatch","id","onInput","useEffect","handleChange","e","target","touchHandler","cond1","cond2","classesInput","join","element","onChange","onBlur","rows","classes","texterror","selectCoords","coords","selectAddress","createSelector","address","selectCoordsFunc","selectCoordsFull","url","process","fetchAddressFromCoords","latlng","a","axios","get","response","fetchCoordsFromAdress","config","headers","data","urlAddress","connect","startFetchCoords","startSetAddressToDisplay","useState","setAddress","coordinates","setCoords","handleInput","useCallback","fetchAddress","preventDefault","lat","lng","add","required","module","exports","selectPlaces","places","selectPlacesSel","mapStateToProps","createStructuredSelector","MapComponenttWithRouter","withRouter","centPosition","centCoords","startFetchPlacesWithin","history","props","marker","setMarker","visible","setVisible","selectedPlace","setSelectedPlace","usePosition","latitude","longitude","payload","range","onMarkerClick","google","zoom","initialCenter","center","map","place","index","key","position","icon","Icon","name","imaage","images","onOpen","button","push","style","textAlign","display","flexDirection","alignItems","justifyContent","ReactDOM","render","React","Children","only","document","getElementById","onInfoWindowOpen","marginTop","GoogleApiWrapper","apiKey"],"mappings":"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","file":"static/js/9.645ddf71.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './custom-button.scss';\r\n\r\nconst CustomButton = ({ children, ...otherProps }) => {\r\n  return (\r\n    <button\r\n      className={`${otherProps.disabled ? 'disabled' : ''} custom-button`}\r\n      onClick={otherProps.handleClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default CustomButton;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\n\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from 'react';\r\nimport { validate } from '../../../utils/validators';\r\n\r\nimport './input-form.scss';\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE':\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case 'TOUCH':\r\n      return {\r\n        ...state,\r\n        isTouched: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst FormInput = ({ label, ...otherProps }) => {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: '',\r\n    isTouched: false,\r\n    isValid: false,\r\n  });\r\n\r\n  const { id, onInput } = otherProps;\r\n  const { value, isValid } = inputState;\r\n\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const handleChange = (e) => {\r\n    dispatch({\r\n      type: 'CHANGE',\r\n      val: e.target.value,\r\n      validators: otherProps.validators,\r\n    });\r\n  };\r\n\r\n  const touchHandler = () => {\r\n    dispatch({ type: 'TOUCH' });\r\n  };\r\n\r\n  const cond1 = `${inputState.value.length > 0 ? 'shrink' : ''}`;\r\n  const cond2 = `${\r\n    !inputState.isValid && inputState.isTouched ? 'danger' : ''\r\n  } `;\r\n  const cond3 = 'form-input-label';\r\n  const cond4 = 'form-input';\r\n  const classesInput = [cond4, cond2].join(' ');\r\n\r\n  const element =\r\n    otherProps.element === 'input' ? (\r\n      <input\r\n        className={classesInput}\r\n        id={otherProps.id}\r\n        onChange={handleChange}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n        type={otherProps.id}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        className={classesInput}\r\n        id={otherProps.id}\r\n        onChange={handleChange}\r\n        onBlur={touchHandler}\r\n        value={inputState.value}\r\n        type={otherProps.id}\r\n        rows={otherProps.rows || 3}\r\n      />\r\n    );\r\n\r\n  const classes = [cond1, cond2, cond3].join(' ');\r\n\r\n  return (\r\n    <div className=\"group\">\r\n      {element}\r\n      {!inputState.isValid ? (\r\n        <p className={cond2}>{otherProps.texterror}</p>\r\n      ) : null}\r\n\r\n      {label ? <label className={classes}>{label}</label> : null}\r\n    </div>\r\n  );\r\n};\r\nexport default FormInput;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectCoords = state => state.coords;\r\n\r\nexport const selectAddress = createSelector(\r\n  [selectCoords],\r\n  address => address.address\r\n);\r\n\r\nexport const selectCoordsFunc = createSelector(\r\n  [selectCoords],\r\n  coords => coords.coords\r\n);\r\n\r\nexport const selectCoordsFull = createSelector(\r\n  [selectCoords],\r\n  coords => coords\r\n);\r\n","import axios from 'axios';\r\n//import runtimeEnv from '@mars/heroku-js-runtime-env';\r\nconst url = process.env.REACT_APP_URL;\r\n\r\nexport const fetchAddressFromCoords = async latlng => {\r\n  // const env = runtimeEnv();\r\n\r\n  const response = await axios.get(\r\n    `${url}/api/v1/places/addressByCoords/${latlng}`\r\n  );\r\n\r\n  return response;\r\n};\r\n\r\nexport const fetchCoordsFromAdress = async address => {\r\n  //const env = runtimeEnv();\r\n  const config = {\r\n    headers: { 'Content-Type': 'application/json' }\r\n  };\r\n\r\n  const data = address;\r\n\r\n  const urlAddress = `${url}/api/v1/places/coordByAdress/${address}`;\r\n\r\n  const response = await axios.get(urlAddress, data, config);\r\n\r\n  return response;\r\n};\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CustomButton from '../custom-button/custom-button';\r\nimport FormInput from '../input-form/input-form';\r\nimport { VALIDATOR_MINLENGTH } from '../../../utils/validators';\r\nimport {\r\n  fetchAddressFromCoords,\r\n  fetchCoordsFromAdress\r\n} from '../../../redux/appis/apiUtils';\r\nimport {\r\n  startFetchCoords,\r\n  startSetAddressToDisplay\r\n} from '../../../redux/coordsReducer/coords-action';\r\n\r\nimport './fetch-address.scss';\r\n\r\nconst FetchAddress = ({ startFetchCoords, startSetAddressToDisplay }) => {\r\n  const [address, setAddress] = useState(null);\r\n  const [coordinates, setCoords] = useState(null);\r\n\r\n  const handleInput = useCallback((id, value, isValid) => {\r\n    setAddress(value);\r\n  }, []);\r\n\r\n  const fetchAddress = async e => {\r\n    e.preventDefault();\r\n    //make call to server with address, wait for response and put it on store\r\n    if (address) {\r\n      const coords = await fetchCoordsFromAdress(address);\r\n\r\n      const { lat, lng } = coords.data.data;\r\n      const latlng = `${lat},${lng}`;\r\n\r\n      const add = await fetchAddressFromCoords(latlng);\r\n      startSetAddressToDisplay(add.data.data);\r\n      if (coords.data.data) {\r\n        setCoords(coords.data.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    startFetchCoords(coordinates);\r\n  }, [coordinates, startFetchCoords]);\r\n\r\n  return (\r\n    <div className=\"address-container\">\r\n      <div className=\"gro\">\r\n        <form>\r\n          <FormInput\r\n            id=\"input\"\r\n            element=\"input\"\r\n            label=\"City Name, Streat, Number\"\r\n            texterror=\"Search Parking Arround An Address\"\r\n            validators={[VALIDATOR_MINLENGTH(2)]}\r\n            onInput={handleInput}\r\n            required={true}\r\n          />\r\n\r\n          <CustomButton type=\"submit\" handleClick={fetchAddress}>\r\n            Find Address\r\n          </CustomButton>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapDispatchToProps = dispatch => ({\r\n  startFetchCoords: coords => dispatch(startFetchCoords(coords)),\r\n  startSetAddressToDisplay: address =>\r\n    dispatch(startSetAddressToDisplay(address))\r\n});\r\nexport default connect(null, mapDispatchToProps)(FetchAddress);\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABCCAYAAAAVHYVwAAALNUlEQVRoQ8Vaa3AUVRb+Znp6Jpk8DSiusoqLoCKC+Ag+1lp1i8UCJbqKEUUoBSWK67qr/tHf+3MttxABE7EgyssSCLDiortSqCDk/YAlCpaU8UGQhEwyr36drdOTITPdPdPdk4l7IZVU9X183z2Pe86514Mxag9tPUoqAQoRNAK8Hg8ErwcBD8EDwpaHp3vyuXTeJqvZ8zUd6gnp2Ap8XgR8AgSe3aP/B/EHAjQAqkYYiit633FBH/69ZOaocYxqgjn1nRRVVMgqQeTd9nnh8SRhZ5tapwViiWmApKqQNUJpQMB/ciSVE5GX9n1DH53sw7gCET7BMwx+dIrC1FRVQ19MQako4PNl17vC5qrzy/tO0GffDeqqUuQXQMQkzAQSakRQKKFGycZdRSbO/zKuTJBVIBRXcEV5ANurr3WE0VEnBjJtdSMV+0UU+wV4vRa7z0YN4FxU0Q1b9AITS/2YWF4IRdXAQzR40Pj9ANRheyny++DzsOlYE4tIKkJxGV3P3myL07YDr3n3hg6SVA0FomBiQES6fg/GFURlDcefs180Ocns2hYKyxrKC0T4BcBr2CG2IZZoX0xCR81NWbHaErluTROVF4oICAYx6K5Vw2Bcxa9L/dj5SO7u9MFtR+mnIQU+L0EUzJulaRr64ypan74hI96sRCprW4ldqd9n1qWYrCLo92Lf4hm2m+HUDcx6q4VErxclAUG3w9SmEaE/qqB1hTWZjCDmvNtBUUnTzwSjZUZlFRFZReuKG/NGIhX0rHUtVFHoM3lDJnPqXAwnn680rWsJ5Ja6JhK8IgrZYlMbARFFxYQiP3ZUTxsTEsnlrlvTTBOK/SZhxlUN5QEBuxelq7IlmBlrWuiiYtE0CUuC3eoXy2aNKYnkwrPWttC4onQc7MyHYgoqLynGqvlTzuMwAXpsezd9NxCF35dudHGFUODz4OPHr/tFSDCZFbu/oq4zYRSKPqNi4MdQDMdWjnhIE6iba1uprMA8sC8sobVmbGwimzO4ctURurys0HSAsrO5qNiP7Q8nVDyNyIy1zVRRKMLnTecXV1RMqSjE+qqrfjFppJKbubaZLixKtxeNA09Zw5HliVAmDdjMNc10oYWB9YbjtgeSUxebS7+F7x+j3rAM0XCW8SF8eHnCXs8Tmbepk4biqsk2ZE3D2TCHCdlP1lSAS/d+QWdjEkKShIAgwO/lqBiIqaou7TJ/AFvvvcOVdGfXtVJJIF3lOdpgN72z+tqR0I3DEAJBMIQJvWEOD9zZRunqrRRaWZ0A+rdawqtP6X9XrN5GfSsf9jyy54Aet9X94VbHZG5b306FPnOkncR3fiI+xUstjPxcREZzhtM0k5pMqttB3y5/QJ/7pvf+SU2Pzdf/rtr5KTXcf5eHJSZpGjbPdy6VufVdFGeJGtSLo+Qjy2eNSMRKdIrGCRPw8ePOwpDKTR/SkUfnecav2UakEUKyAp/Hg+ifH9WJBF5/j+JxCfdOvRwDkoTPqu/x/HHXftq+4E5byVRtOUr9MRl+QyymqAQ26/MTWBEZlFQcdpngMOAFOz+lXffflRWc8Nq7pP51sS2BpNSX7DxO3/TFTBE4H5Be4kQAwEPbjlFvhNmmhyRDkoIvXZziz3zyJa053AW8utwW4OS6HXSytw94ZZltX8b49O5u6uqNIsjxfkpjIjyBPkllXSvpCZMhbXNLRJ//7xsJLy6xBTejfjd1nO4DXlpq25enfXbPV9R2OmIiwt84mEwQqW2hkoBoOj3dElm45wAd6DmN0zULbcHNrN9DMUVF9xNVtn0ZY83ur6ij15rI+XOksraNSgLJCsiI3MKShkPLnJVqpr7TQJcEC3AmHsfRJQtswS3ctZ9OR2IYVFS0Lk54tWxtaUM3nTgbRaFFljpCpK6Niv1ek2qx11IUFZ+7sBM7QLl+r9raRZxYGb0Wz8fptr4Tt73dTgHRA8FgI9whFFfR+JR92H7pWx/Q3RMn4L99ITQtnme7w9e800DXjrtAT5c//KYH0l+ye7C573YRx3zGcySNyB3r20jweXWfb2x9ERktNgfipLrt1B+T9KG8GWFFQVxKVBKnjivXC3eiV0Dnz/2Q4zJ3QkVhAVQicHzaH4kDL2c3equoPEmCCxQ68hf3naRDPYMIWugfVxEjiobG4SjTSjUq3txKEVlB0CfqqfGAJOuZZLFPwOCfFp3fnfsb9tPO49/CHxBRqpeCBMQ1Ff0Dg8Ar2V32LexZDbEWYwnFFBx5yuZkT4LuCcVwPCWJsSLzuy0fUVFAxCenfkL11ZNQf8/tWdVr+oZd9N1QFL+9ZLweVO6oynyAZtOYMxEJ7StuHNEldsGlBeb0lkFzoWHGhCDWzp9qq/u5GnO2cTfXtVKZhTS47vUzE6lJIfL7DR3ElUIu/Rsb6yD/HHjCmSvOJ5kpqxrpsrKAZX05LKs49KQhsZpT306SyrVZq3ooIKuaXo8dqxKQFfmqzUeJi9rsLKzaQFxBozGx4o7Xr2um8UFzCSY5CRv0hCIRO6pzryo6lRbft7T+OAQ2cKuCt6ppkFTCF0aJ8AJcqL64JGA6GJOLs04OSon43ymgXPo92dBNnb1hlGWwWZ4zLCm4dWIJXpt7pY7FBOiWtzmATE8pU8Ewmb6onLF0mQvw1DFMoqs3DE5rE5dG5sYRb89AFN3PjVQcTT05L+G7D2MkbJyOE382p4NP5k86d23sIPaQxaKQ9fJIUjT4vR58snQk4TMReX7vCWr6YcgyXE6TTPKGKargsnI/9iwaXeFu6qpGurjYb1kwT9cIwrmYgmZDZd5SdleuaqQrygsSF5g2jeMxrsdypHzjr4pRt8DdWXPb+jbidJUr8GzVdsYnKSrKgyJ2GW6yLMc9/sExOjEgo8hYxM5Cim1Hv9Tk37IKFR74vXxF50WBIICvqoekRBWfNyjo8yauq33mqDvTMjzuxNkITr0w24Q74wZcv7ZZv+AxVh1tJcQdmJV+1QZoGl+tJYI6tju23+SimYw50xr9rFIZIvGskpw9nKe4XdCObC7fuRhHmobPMjiXrETu29xJ52Kqfvn//2wc7uuHX5YQyc62MOn1wzR5XNDWCMeSKLv6i4t8aMjiGW2JMMBZXKUPcnHCUfe8cmKV4jT8w0ezu3dHyBZs7iI2tF9axdi1/xyW0f6Mfe3ZERHe4t/84whdcYH5wiWv22+YLPXawG4dx0R0FVvHF0H+LM8v7JZz/p3zn56BOL5+3tkDBFdEGIZdUOkcauaefAqdGZLQ4UClkrO4JjK7to0KRY9lWSYvJAjgp1OTy/yof9D5FbhrIgx2+pvNNKHEPyYumTNR/jnosiiYE5FF7x+jbwckFHGgl8fGXur7UNzVw5ycVSs58L5NndQX08yvI3IkxnYRisq4/fIyvD53susNdj0gFee01U26ihlLrblw4XIopw4bH7g6J0w5DUoFOn2YzGhOfV2lBiUcX+n85ti4WaMm8uK/TtL+UwP647FcI5gfBuM45uL620rioybCk76w9yQd/CGk13NdNa7261WZzA/KnM6XFyK82A1rm6hYf9JnXUyzAsR2wZnjweHalFPQYyaR5MSVdS1UJAqmRwdWC3OO0R9R0FYzemnw/HmTSBLsVW80Eb8uzWr8RDjjMKp1KqW8E+GFr3mziS4tCWTEwOWcqRUBbHIRgtgRGhMivKh+wzRc4kkFEVU0XBT0YYfDh8l2BEZ9ststMGdjO4UVDcGU12+JN7yyfjFjN97t97xPmArg9vWt/Ohcf3bB1XO+WDVWCN0CztR/TInwonduaCdN84AfxHS6yC/cEhxzIgzoqjcaqdvFU3O3JLj//wAQrMX2XfEOLAAAAABJRU5ErkJggg==\"","import { createSelector } from 'reselect';\r\n\r\nconst selectPlaces = state => state.places;\r\n\r\nexport const selectPlacesSel = createSelector(\r\n  [selectPlaces],\r\n  places => places.places\r\n);\r\n\r\nexport const selectPlacesIsLoading = createSelector(\r\n  [selectPlaces],\r\n  places => !!places.places\r\n);\r\n","import React, { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport CustomButton from '../../reuseble/custom-button/custom-button';\r\n//import runtimeEnv from '@mars/heroku-js-runtime-env';\r\nimport { usePosition } from 'use-position';\r\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react';\r\nimport { startFetchPlacesWithin } from '../../../redux/placesReducer/places-actions';\r\n\r\nimport {\r\n  selectAddress,\r\n  selectCoordsFunc\r\n} from '../../../redux/coordsReducer/coords-selector';\r\nimport { selectPlacesSel } from '../../../redux/placesReducer/places-selector';\r\nimport './map.scss';\r\nimport Icon from '../../../images/icon.png';\r\n\r\nconst api = process.env.REACT_APP_GEOLOCATION_KEY;\r\n\r\nconst MapComponent = ({\r\n  places,\r\n  startFetchPlacesWithin,\r\n  history,\r\n  address,\r\n  coords,\r\n  ...props\r\n}) => {\r\n  const [marker, setMarker] = useState({});\r\n  const [visible, setVisible] = useState(false);\r\n  const [selectedPlace, setSelectedPlace] = useState({});\r\n\r\n  let { latitude, longitude } = usePosition();\r\n\r\n  let lat, lng, centPosition;\r\n  if (latitude && longitude && !coords.payload) {\r\n    lat = latitude;\r\n    lng = longitude;\r\n    centPosition = { lat, lng };\r\n  }\r\n\r\n  let centCoords;\r\n  if (coords.payload) {\r\n    centCoords = coords.payload;\r\n  }\r\n\r\n  useEffect(() => {\r\n    startFetchPlacesWithin({ range: 100, latitude, longitude });\r\n  }, [startFetchPlacesWithin, latitude, longitude]);\r\n\r\n  useEffect(() => {\r\n    // const coo = coords.payload ? coords.payload : cent;\r\n    startFetchPlacesWithin({ range: 100, centCoords });\r\n  }, [startFetchPlacesWithin, centCoords]);\r\n\r\n  const onMarkerClick = (props, marker, e) => {\r\n    setMarker(marker);\r\n    setVisible(!visible);\r\n    setSelectedPlace(props);\r\n  };\r\n\r\n  const onInfoWindowOpen = () => {\r\n    const button = (\r\n      <CustomButton\r\n        handleClick={e => {\r\n          history.push(`/place/${selectedPlace.id}`);\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            textAlign: 'center',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center'\r\n          }}\r\n        >\r\n          See Place\r\n        </div>\r\n      </CustomButton>\r\n    );\r\n    ReactDOM.render(\r\n      React.Children.only(button),\r\n      document.getElementById('iwc')\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"map-container\">\r\n      {places ? (\r\n        <Map\r\n          className=\"map\"\r\n          google={props.google}\r\n          zoom={10}\r\n          initialCenter={coords.payload ? coords.payload : centPosition}\r\n          center={coords.payload ? coords.payload : centPosition}\r\n        >\r\n          {places.length > 0\r\n            ? places.map((place, index) => {\r\n                return (\r\n                  <Marker\r\n                    key={index}\r\n                    id={place.id}\r\n                    position={{\r\n                      lat: place.position.coordinates[1],\r\n                      lng: place.position.coordinates[0]\r\n                    }}\r\n                    icon={{\r\n                      url: Icon\r\n                    }}\r\n                    onClick={onMarkerClick}\r\n                    name={place.name}\r\n                    imaage={place.images[0]}\r\n                  />\r\n                );\r\n              })\r\n            : null}\r\n\r\n          <InfoWindow\r\n            marker={marker}\r\n            visible={visible}\r\n            onOpen={e => onInfoWindowOpen()}\r\n          >\r\n            <div>\r\n              <h1 style={{ textAlign: 'center' }}>{selectedPlace.name}</h1>\r\n              <div style={{ marginTop: '-15px' }} id=\"iwc\" />\r\n            </div>\r\n          </InfoWindow>\r\n        </Map>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  address: selectAddress,\r\n  coords: selectCoordsFunc,\r\n  places: selectPlacesSel\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startFetchPlacesWithin: payload => dispatch(startFetchPlacesWithin(payload))\r\n});\r\n\r\nconst MapComponenttWithRouter = withRouter(MapComponent);\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(\r\n  GoogleApiWrapper({\r\n    apiKey: api\r\n  })(MapComponenttWithRouter)\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport { selectAddress } from '../../redux/coordsReducer/coords-selector';\r\nimport './homepage.scss';\r\n\r\nimport MapComponent from '../../components/main/home-places/map';\r\nimport FetchAddress from '../../components/reuseble/fetch-address/fetch-address';\r\n\r\nconst HomePage = ({ address }) => {\r\n  return (\r\n    <div>\r\n      <div className=\"homepage-container\">\r\n        <h2>{address}</h2>\r\n        <FetchAddress />\r\n      </div>\r\n      <div>\r\n        <MapComponent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = createStructuredSelector({\r\n  address: selectAddress\r\n});\r\nexport default connect(mapStateToProps)(HomePage);\r\n"],"sourceRoot":""}